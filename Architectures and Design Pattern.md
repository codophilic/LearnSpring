# Design Pattern

## What is design patter in software engineering?
- In software engineering, a design pattern is a reusable solution to a commonly occurring problem within a software design. It's like a blueprint or template that can be adapted to different situations.
- Imagine you're building a house.
  - You have different parts to construct: the foundation, walls, roof, plumbing, electrical system, etc. Each part has its own complexities.
  - A design pattern is like a proven blueprint for solving such common building problems.
  - For example, you might face the challenge of how to connect the plumbing, electrical, and heating systems efficiently. Instead of figuring out a new solution every time, you can use a proven blueprint (design pattern) that outlines how to combine these systems effectively.
- Design patterns provide a shared vocabulary for software developers and can speed up the development process by providing proven solutions to common design problems.

## MVC (Model-View-Controller) design pattern
- To work with these complex web applications developers use different design patterns to lay out their projects, to make the code less complex and easier to work with. The most popular of these patterns is MVC also known as Model View Controller.
- Lets say you are building a simple To-do list application where users can add, view, and delete tasks. Without a clear structure, the code for managing data, handling user input, and displaying the interface can get mixed up. This makes the codebase harder to manage, debug, and extend.
- To resolve this what if we kinda seperate our code and define some sort of structure or a standard pattern? this kind of seperate of layers MVC help us to do.
- The MVC framework includes the following 3 components:
  1. Controller
  2. Model
  3. View

![MVC-DAO](https://github.com/user-attachments/assets/c7d6b7d5-a01b-4882-9768-731e60d7122a)



- Workflow
  - As a client you request for a data from a server using a web page. The web page could be static (having static contents) or dynamic (values generated by server).
  - Now if its a static content you just display the html file, but when a dynamic content is required, there are lot of works happens behind the scene.
  - **Controller** is the one which gets the request from the client. So lets say the client is requesting for a student data and on the browser it hits the page **/getStudentInfo**.
  - The **Controller** will get this request , it has multiples views or page, since the client has request for **/getStudentInfo**. It will call that view, but hold on this is a dynamic page, it requires data.
  - Database stores all the data, now the **Controller** passes the request to **Service Layer**, **Service Layer** passes the request to **DAO (Data Access Object)** and **DAO** fetch the data from the database.
  - The data transfers between these layers are of object. **DTO(Data Transfer Object)** is used to transfer the data between classes and modules of your application.
  - **DAO Layer** sends back this data to the **Service Layer**, **Service Layer** handles business logic, interacts with the DAO to retrieve data, and performs necessary data transformations or calculations,   sends back this data to the **Controller**.
  - Now the data received by **Controller** needs to be store somewhere right? so here **Model** comes into picture.
  - So **Controller** sends the data to **Model**, this data is in the **Model** form which is passed to the **View**.
  - **View** sends back the response to the client, thus generating a dynamic content on its page.

>[!NOTE]
> In some study cases, model has the capabilites to handle business logics and also perform interaction with the database.

### Controller
- The Controller receives the client's request. It's responsible for handling the initial request logic, determining which action to take, and which data to fetch.
- The Controller forwards the request to the appropriate Service Layer method, initiating the process to gather the necessary data.

### Service layer
- The Service Layer acts as an intermediary between the Controller and the DAO. It contains the business logic and orchestrates the workflow for processing the request.
- The Service Layer calls the DAO to retrieve data from the database, encapsulating business rules and possibly data transformations.

### DAO (Data-Access-Object)
- The DAO is responsible for interacting with the database. It executes database queries, fetches the necessary data, and returns it to the Service Layer.
- The DAO abstracts and encapsulates all access to the data source, providing a clean API to the Service Layer.
- The data retrieved by the DAO is passed back up to the Service Layer. The Service Layer may process this data, applying any necessary business logic, and then returns it to the Controller.

### DTO (Data Transfer Object)
- DTOs or Data Transfer Objects are objects that carry data between processes
- Data Transfer Object (DTO) is a useful concept for transferring data between different components of the application. It is often used to encapsulate data and pass it between the Model, View, and Controller.
- DTO should only contain private fields for your data, getters, setters, and constructors.
- DTO is not recommended to add business logic methods to such classes, but it is OK to add some util methods.
- E.g

```
public class StudentDTO
{
    public string Name { get; set; }
    public int id { get; set; }
    public string city { get; set; }
    // Additional properties can be added as per your requirements
}

```

### Model
- The Model is responsible for representing the application's data structure, often as objects that the application can easily manipulate.
- The Controller may use the Model to store and organize the data before passing it to the View.

### View
- The View is responsible for presenting data to the user. It takes the data, now organized by the Model, and formats it for display in the web page.
- The View sends the final rendered content back to the client, displaying the dynamic content as requested.


- Reference [video](https://www.youtube.com/watch?v=MDHj4vgKY6Q&t=496s).


# Software Architecture

## 1. Monolithic Architecture
- Mono means single and lithic means stone. It means a single stone.
- A monolithic architecture in software refers to a design where all components of an application, including the user interface, business logic, and data access layers, are integrated into a single, unified codebase. 
- Lets say if the application consist of multiple teams, all teams will work on the same code base.
- Since the code base is same for all the teams, if we consider a java programming language we will have build artifact called a war file.
- This war file is deployed on the server like tomcat via CI/CD pipeline.

![image](https://github.com/user-attachments/assets/8ab67658-3613-4d06-9e99-4c535b6825eb)

- Monolithic architecture could be useful where the complexity won't increase in time, like a to-do list application.

### Characteristics of Monolithic Architecture
- Single Executable: The entire application is packaged and deployed as a single executable file. All components and modules are bundled together.
- Tight Coupling: The components and modules within the application are highly interconnected and dependent on each other. Changes made to one component may require modifications in other parts of the application.
- Shared Memory: All components within the application share the same memory space. They can directly access and modify shared data structures.
- Monolithic Deployment: The entire application is deployed as a single unit. Updates or changes to the application require redeploying the entire monolith.
- Centralized Control Flow: The control flow within the application is typically managed by a central module or a main function. The flow of execution moves sequentially from one component to another.

### Monolithic and MVC

![image](https://github.com/user-attachments/assets/fe879182-1e61-4d64-8364-e79f51f5f6c0) 

- In a monolithic architecture, all elements of the application — from the user interface and business logic to the data access code — are built and bundled together in a single codebase and repository. This architecture typically uses concepts such as templates/themes and the Model-View-Controller (MVC) design pattern.

## 2. 3-Tier Architecture

- The most common type of multi-tier architecture in distributed systems is a three-tier client-server architecture. In this architecture, the entire application is organized into three computing tiers
  1. Presentation tier
  2. Application/Service tier
  3. Data-tier

### Presentation Tier
- The presentation tier consist of UI/UX frontend technologies which can be comprises of different tech stacks like Angular or React. It is the user interface and topmost tier in the architecture. Its purpose is to take request from the client and displays information to the client.
- It communicates with other tiers using a web browser as it gives output on the browser. If we talk about Web-based tiers then these are developed using languages like HTML, CSS, JavaScript.

### Application/Service Tier
- It is the middle tier of the architecture also known as the logic tier as the information/request gathered through the presentation tier is processed in detail here. It also interacts with the server that stores the data. It processes the client’s request, formats, it and sends it back to the client. It is developed using languages like- Python, Java, PHP, SpringBoot etc.
- This layer may consist of all the API which communicates with the database to fetch or perform database operations. This middle tier will have a seperate codebase which can have different tech stacks
- The presentation layer communicates with service layer with Rest API's calls.
- The codebase of the service tier consist of a different CI/CD pipeline to build a artifact.

### Database Tier
- It is the last tier of the architecture also known as the Database Tier. It is used to store the processed information so that it can be retrieved later on when required. It consists of Database Servers like- Oracle, MySQL, DB2, etc. The communication between the Presentation Tier and Data-Tier is done using middle-tier i.e. Application Tier.

![image](https://github.com/user-attachments/assets/b0ade9d2-09e5-442a-a2f7-8c6f4575f1ed)

### Benefits of Three-Tier Architecture
- Logical separation is maintained between Presentation Tier, Application Tier, and Database Tier.
- Enhancement of Performance as the task is divided on multiple machines in distributed machines and moreover, each tier is independent of other tiers.
- Increasing demand for adding more servers can also be handled in the architecture as tiers can be scaled independently.
- Developers are independent to update the technology of one tier as it would not impact the other tiers.
- Programmers can easily maintain the database, presentation code, and business/application logic separately. If any change is required in business/application logic then it does not impact the presentation code and codebase.
- Security is improved as the client cannot communicate directly with Database Tier. Moreover, the data is validated at Application Tier before passing to Database Tier.

### 3-Tier Architecture and MVC

![image](https://github.com/user-attachments/assets/2264ae9f-8d96-4d28-abd7-4e62471df8e3)

- The MVC pattern takes place in the **presentation** tier of the above architecture (for a webapp):
  - Data Tier
  - Application/Service Tier
  - Presentation Tier
    - controller: intercepts the HTTP request and returns the HTTP response;
    - model: stores data to be displayed/treated;
    - view: organises output/display.
- Typical flow:
  - The user sends the HTTP request;
  - The controller intercepts it;
  - The controller calls the appropriate service;
  - The service calls the appropriate dao, which returns some persisted data (for example);
  - The service treats the data, and returns data to the controller;
  - The controller stores the data in the appropriate model and calls the appropriate view;
  - The view get instantiated with the model's data, and get returned as the HTTP response.

## Microservices Architecture
- Microservices - also known as the microservice architecture - is an architectural style that structures an application as a collection of services that are:
  - Independently deployable
  - Loosely coupled
- Services are typically organized around business capabilities. Each service is often owned by a single, small team.
- Microservices are an architectural approach to develop software applications as a collection of small, independent services that communicate with each other over a network. Instead of building a monolithic application where all the functionality is tightly integrated into a single codebase, microservices break down the application into smaller, loosely coupled services.
- Each microservice is designed to perform a specific business function and can be developed, deployed, and scaled independently. It allows you to take a large application and decompose or break it into easily manageable small components with narrowly defined responsibilities. It is considered the building block of modern applications. Microservices can be written in a variety of programming languages, and frameworks, and each service acts as a mini-application on its own.


